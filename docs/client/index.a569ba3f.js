import{S as s,i as e,s as t,e as a,t as o,a as n,c as r,b as c,d as l,f as i,g as h,h as d,j as u,k as f,l as g,m as p,n as b,o as v,p as w,q as m,r as $,u as T,v as y,w as E,x as k,y as x,z as S,A as q,B as I}from"./client.b8065c9b.js";function M(s){let e,t,y,E,k,x,S,q,I,M,O,P,j,C,D,G,H,J,R,A,B,L,U,V,X,z,F,W,_,K,Q,Y,Z,ss,es,ts,as,os,ns,rs,cs,ls=N+2+"";return{c(){e=a("h1"),t=o("Toe or Thumb?"),y=n(),E=a("figure"),k=a("img"),S=n(),q=a("img"),O=n(),P=a("div"),j=a("button"),C=o("Toe"),G=n(),H=a("button"),J=o("Thumb"),A=n(),B=a("div"),L=a("p"),U=a("span"),V=o(s[7]),X=o("\n    of people got it... "),z=o(s[5]),F=o(" right, "),W=o(s[6]),_=o(" wrong."),K=n(),Q=a("div"),Y=a("p"),Z=o("Check back next week for round "),ss=o(ls),es=o("!"),ts=n(),as=a("p"),os=o("Made by\n    "),ns=a("a"),rs=o("@codenberg"),this.h()},l(a){e=r(a,"H1",{class:!0});var o=c(e);t=l(o,"Toe or Thumb?"),o.forEach(i),y=h(a),E=r(a,"FIGURE",{style:!0,class:!0});var n=c(E);k=r(n,"IMG",{class:!0,alt:!0,src:!0}),S=h(n),q=r(n,"IMG",{alt:!0,src:!0,class:!0}),n.forEach(i),O=h(a),P=r(a,"DIV",{class:!0});var d=c(P);j=r(d,"BUTTON",{disabled:!0,class:!0});var u=c(j);C=l(u,"Toe"),u.forEach(i),G=h(d),H=r(d,"BUTTON",{disabled:!0,class:!0});var f=c(H);J=l(f,"Thumb"),f.forEach(i),d.forEach(i),A=h(a),B=r(a,"DIV",{class:!0});var g=c(B);L=r(g,"P",{});var p=c(L);U=r(p,"SPAN",{});var b=c(U);V=l(b,s[7]),b.forEach(i),X=l(p,"\n    of people got it... "),z=l(p,s[5]),F=l(p," right, "),W=l(p,s[6]),_=l(p," wrong."),p.forEach(i),g.forEach(i),K=h(a),Q=r(a,"DIV",{class:!0});var v=c(Q);Y=r(v,"P",{});var w=c(Y);Z=l(w,"Check back next week for round "),ss=l(w,ls),es=l(w,"!"),w.forEach(i),ts=h(v),as=r(v,"P",{});var m=c(as);os=l(m,"Made by\n    "),ns=r(m,"A",{href:!0,target:!0});var $=c(ns);rs=l($,"@codenberg"),$.forEach(i),m.forEach(i),v.forEach(i),this.h()},h(){d(e,"class","svelte-noh1dt"),d(k,"class","visible svelte-noh1dt"),d(k,"alt","image of toe or thumb?"),k.src!==(x="assets/0-question.png")&&d(k,"src","assets/0-question.png"),d(q,"alt","image revealed"),q.src!==(I="assets/0-answer.png")&&d(q,"src","assets/0-answer.png"),d(q,"class","svelte-noh1dt"),u(q,"visible","answer"===s[0]),f(E,"height",s[3]+"px"),d(E,"class","svelte-noh1dt"),g(()=>s[14].call(E)),u(E,"right",!0===s[4]),u(E,"wrong",!1===s[4]),j.disabled=D="answer"===s[0],d(j,"class","svelte-noh1dt"),H.disabled=R="answer"===s[0],d(H,"class","svelte-noh1dt"),d(P,"class","choice visible svelte-noh1dt"),d(B,"class","next svelte-noh1dt"),u(B,"visible","answer"===s[0]&&s[2].length),d(ns,"href","https://twitter.com/codeberg"),d(ns,"target","_blank"),d(Q,"class","credit svelte-noh1dt")},m(a,o){p(a,e,o),b(e,t),p(a,y,o),p(a,E,o),b(E,k),b(E,S),b(E,q),M=v(E,s[14].bind(E)),p(a,O,o),p(a,P,o),b(P,j),b(j,C),b(P,G),b(P,H),b(H,J),p(a,A,o),p(a,B,o),b(B,L),b(L,U),b(U,V),b(L,X),b(L,z),b(L,F),b(L,W),b(L,_),p(a,K,o),p(a,Q,o),b(Q,Y),b(Y,Z),b(Y,ss),b(Y,es),b(Q,ts),b(Q,as),b(as,os),b(as,ns),b(ns,rs),cs=[w(j,"click",s[8]),w(H,"click",s[8])]},p(s,[e]){1&e&&u(q,"visible","answer"===s[0]),8&e&&f(E,"height",s[3]+"px"),16&e&&u(E,"right",!0===s[4]),16&e&&u(E,"wrong",!1===s[4]),1&e&&D!==(D="answer"===s[0])&&(j.disabled=D),1&e&&R!==(R="answer"===s[0])&&(H.disabled=R),128&e&&m(V,s[7]),32&e&&m(z,s[5]),64&e&&m(W,s[6]),5&e&&u(B,"visible","answer"===s[0]&&s[2].length)},i:$,o:$,d(s){s&&i(e),s&&i(y),s&&i(E),M.cancel(),s&&i(O),s&&i(P),s&&i(A),s&&i(B),s&&i(K),s&&i(Q),T(cs)}}}let N=0;function O(s,e,t){const a=["thumb"];let o,n,r,c,l,i,h="question",d=0,u=[],f=[];function g(){const s=new XMLHttpRequest,e=`https://pudding.cool/misc/toe-or-thumb/data.json?version=${Date.now()}`;s.open("GET",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const s=JSON.parse(this.response);t(2,f=s.answers)}else console.log("error1")},s.onerror=function(){console.log("error2")},s.send()}function p(s){const e=new XMLHttpRequest;e.open("POST","https://toe-or-thumb-db.herokuapp.com/answers",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){console.log(this.status)},e.onerror=function(s){console.log(s)},e.send(JSON.stringify(s))}return y(()=>{const s=localStorage.getItem("toe-or-thumb");s&&(t(9,u=JSON.parse(s)),t(0,h="answer")),g()}),s.$$.update=()=>{2&s.$$.dirty&&t(3,o=d),512&s.$$.dirty&&t(4,n=u[N]?u[N]===a[N]:null),4&s.$$.dirty&&t(10,r=f.length?f.find(s=>s.key===`${N}`):null),1024&s.$$.dirty&&t(5,c=r?r.value.r:0),1024&s.$$.dirty&&t(6,l=r?r.value.w:0),1120&s.$$.dirty&&t(7,i=r?`${Math.round(c/(c+l)*100)}%`:"0%")},[h,d,f,o,n,c,l,i,function(){const s=this.innerText.toLowerCase();t(9,u[N]=s,u),t(9,u),t(0,h="answer"),localStorage.setItem("toe-or-thumb",JSON.stringify(u)),p({question:N,answer:s===a[N]})},u,r,a,g,p,function(){d=this.offsetWidth,t(1,d)}]}class P extends s{constructor(s){super(),e(this,s,O,M,t,{})}}function j(s){let e;const t=new P({});return{c(){E(t.$$.fragment)},l(s){k(t.$$.fragment,s)},m(s,a){x(t,s,a),e=!0},p:$,i(s){e||(S(t.$$.fragment,s),e=!0)},o(s){q(t.$$.fragment,s),e=!1},d(s){I(t,s)}}}export default class extends s{constructor(s){super(),e(this,s,null,j,t,{})}}
