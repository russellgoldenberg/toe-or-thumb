import{S as s,i as e,s as t,e as a,t as r,a as o,c as n,b as i,d as c,f as l,g as h,h as u,j as d,k as p,l as f,m as g,n as b,o as v,p as w,q as m,r as $,u as x,v as T,w as y,x as E,y as k,z,A as S,B as q}from"./client.134f4fd5.js";function I(s){let e,t,T,y,E,k,z,S,q,I,N,O,P,j,C,D,G,H,J,R,A,B,L,U,V,X,F,W,_,K,Q,Y,Z,ss,es,ts,as,rs,os,ns,is,cs=M+2+"";return{c(){e=a("h1"),t=r("Toe or Thumb?"),T=o(),y=a("figure"),E=a("img"),z=o(),S=a("img"),N=o(),O=a("div"),P=a("button"),j=r("Toe"),D=o(),G=a("button"),H=r("Thumb"),R=o(),A=a("div"),B=a("p"),L=a("span"),U=r(s[7]),V=r("\n    of people got it... "),X=r(s[5]),F=r(" right, "),W=r(s[6]),_=r(" wrong."),K=o(),Q=a("div"),Y=a("p"),Z=r("Check back next week for round "),ss=r(cs),es=r("!"),ts=o(),as=a("p"),rs=r("Made by\n    "),os=a("a"),ns=r("@codenberg"),this.h()},l(a){e=n(a,"H1",{class:!0});var r=i(e);t=c(r,"Toe or Thumb?"),r.forEach(l),T=h(a),y=n(a,"FIGURE",{style:!0,class:!0});var o=i(y);E=n(o,"IMG",{class:!0,alt:!0,src:!0}),z=h(o),S=n(o,"IMG",{alt:!0,src:!0,class:!0}),o.forEach(l),N=h(a),O=n(a,"DIV",{class:!0});var u=i(O);P=n(u,"BUTTON",{disabled:!0,class:!0});var d=i(P);j=c(d,"Toe"),d.forEach(l),D=h(u),G=n(u,"BUTTON",{disabled:!0,class:!0});var p=i(G);H=c(p,"Thumb"),p.forEach(l),u.forEach(l),R=h(a),A=n(a,"DIV",{class:!0});var f=i(A);B=n(f,"P",{});var g=i(B);L=n(g,"SPAN",{});var b=i(L);U=c(b,s[7]),b.forEach(l),V=c(g,"\n    of people got it... "),X=c(g,s[5]),F=c(g," right, "),W=c(g,s[6]),_=c(g," wrong."),g.forEach(l),f.forEach(l),K=h(a),Q=n(a,"DIV",{class:!0});var v=i(Q);Y=n(v,"P",{});var w=i(Y);Z=c(w,"Check back next week for round "),ss=c(w,cs),es=c(w,"!"),w.forEach(l),ts=h(v),as=n(v,"P",{});var m=i(as);rs=c(m,"Made by\n    "),os=n(m,"A",{href:!0,target:!0});var $=i(os);ns=c($,"@codenberg"),$.forEach(l),m.forEach(l),v.forEach(l),this.h()},h(){u(e,"class","svelte-2xipz2"),u(E,"class","visible svelte-2xipz2"),u(E,"alt","image of toe or thumb?"),E.src!==(k="assets/0-question.png")&&u(E,"src","assets/0-question.png"),u(S,"alt","image revealed"),S.src!==(q="assets/0-answer.png")&&u(S,"src","assets/0-answer.png"),u(S,"class","svelte-2xipz2"),d(S,"visible","answer"===s[0]),p(y,"height",s[3]+"px"),u(y,"class","svelte-2xipz2"),f(()=>s[14].call(y)),d(y,"right",!0===s[4]),d(y,"wrong",!1===s[4]),P.disabled=C="answer"===s[0],u(P,"class","svelte-2xipz2"),G.disabled=J="answer"===s[0],u(G,"class","svelte-2xipz2"),u(O,"class","choice visible svelte-2xipz2"),u(A,"class","next svelte-2xipz2"),d(A,"visible","answer"===s[0]&&s[2].length),u(os,"href","https://twitter.com/codeberg"),u(os,"target","_blank"),u(Q,"class","credit svelte-2xipz2")},m(a,r){g(a,e,r),b(e,t),g(a,T,r),g(a,y,r),b(y,E),b(y,z),b(y,S),I=v(y,s[14].bind(y)),g(a,N,r),g(a,O,r),b(O,P),b(P,j),b(O,D),b(O,G),b(G,H),g(a,R,r),g(a,A,r),b(A,B),b(B,L),b(L,U),b(B,V),b(B,X),b(B,F),b(B,W),b(B,_),g(a,K,r),g(a,Q,r),b(Q,Y),b(Y,Z),b(Y,ss),b(Y,es),b(Q,ts),b(Q,as),b(as,rs),b(as,os),b(os,ns),is=[w(P,"click",s[8]),w(G,"click",s[8])]},p(s,[e]){1&e&&d(S,"visible","answer"===s[0]),8&e&&p(y,"height",s[3]+"px"),16&e&&d(y,"right",!0===s[4]),16&e&&d(y,"wrong",!1===s[4]),1&e&&C!==(C="answer"===s[0])&&(P.disabled=C),1&e&&J!==(J="answer"===s[0])&&(G.disabled=J),128&e&&m(U,s[7]),32&e&&m(X,s[5]),64&e&&m(W,s[6]),5&e&&d(A,"visible","answer"===s[0]&&s[2].length)},i:$,o:$,d(s){s&&l(e),s&&l(T),s&&l(y),I.cancel(),s&&l(N),s&&l(O),s&&l(R),s&&l(A),s&&l(K),s&&l(Q),x(is)}}}let M=0;function N(s,e,t){const a=["thumb"];let r,o,n,i,c,l,h="question",u=0,d=[],p=[];function f(){const s=new XMLHttpRequest,e=`https://pudding.cool/misc/toe-or-thumb/data.json?version=${Date.now()}`;s.open("GET",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const s=JSON.parse(this.response);t(2,p=s.answers)}else console.log("error1")},s.onerror=function(){console.log("error2")},s.send()}function g(s){const e=new XMLHttpRequest;e.open("POST","https://toe-or-thumb-db.herokuapp.com/answers",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){console.log(this.status)},e.onerror=function(s){console.log(s)},e.send(JSON.stringify(s))}return T(()=>{const s=localStorage.getItem("toe-or-thumb");s&&(t(9,d=JSON.parse(s)),t(0,h="answer")),f()}),s.$$.update=()=>{2&s.$$.dirty&&t(3,r=u),512&s.$$.dirty&&t(4,o=d[M]?d[M]===a[M]:null),4&s.$$.dirty&&t(10,n=p.length?p.find(s=>s.key===`${M}`):null),1024&s.$$.dirty&&t(5,i=n?n.value.r:0),1024&s.$$.dirty&&t(6,c=n?n.value.w:0),1120&s.$$.dirty&&t(7,l=n?`${Math.round(i/(i+c)*100)}%`:"0%")},[h,u,p,r,o,i,c,l,function(){const s=this.innerText.toLowerCase();t(9,d[M]=s,d),t(9,d),t(0,h="answer"),localStorage.setItem("toe-or-thumb",JSON.stringify(d)),g({question:M,answer:s===a[M]})},d,n,a,f,g,function(){u=this.offsetWidth,t(1,u)}]}class O extends s{constructor(s){super(),e(this,s,N,I,t,{})}}function P(s){let e;const t=new O({});return{c(){y(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){k(t,s,a),e=!0},p:$,i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){S(t.$$.fragment,s),e=!1},d(s){q(t,s)}}}export default class extends s{constructor(s){super(),e(this,s,null,P,t,{})}}
