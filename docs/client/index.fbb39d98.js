import{S as s,i as e,s as a,e as t,t as o,a as r,c as n,b as c,d as l,f as i,g as h,h as d,j as u,k as f,l as g,m as p,n as w,o as b,p as v,q as m,r as $,u as y,v as x,w as T,x as E,y as k,z as S,A as q,B as I}from"./client.5c7d1da6.js";function M(s){let e,a,x,T,E,k,S,q,I,M,O,P,j,C,D,G,H,J,R,A,B,L,U,V,X,z,F,W,_,K,Q,Y,Z,ss,es,as,ts,os,rs,ns,cs,ls=N+2+"";return{c(){e=t("h1"),a=o("Toe or Thumb?"),x=r(),T=t("figure"),E=t("img"),S=r(),q=t("img"),O=r(),P=t("div"),j=t("button"),C=o("Toe"),G=r(),H=t("button"),J=o("Thumb"),A=r(),B=t("div"),L=t("p"),U=t("span"),V=o(s[7]),X=o("\n    of people got it! "),z=o(s[5]),F=o(" âœ… and "),W=o(s[6]),_=o(" ðŸš«."),K=r(),Q=t("div"),Y=t("p"),Z=o("Check back next week for round "),ss=o(ls),es=o("!"),as=r(),ts=t("p"),os=o("Made by\n    "),rs=t("a"),ns=o("@codenberg"),this.h()},l(t){e=n(t,"H1",{class:!0});var o=c(e);a=l(o,"Toe or Thumb?"),o.forEach(i),x=h(t),T=n(t,"FIGURE",{style:!0,class:!0});var r=c(T);E=n(r,"IMG",{class:!0,alt:!0,src:!0}),S=h(r),q=n(r,"IMG",{alt:!0,src:!0,class:!0}),r.forEach(i),O=h(t),P=n(t,"DIV",{class:!0});var d=c(P);j=n(d,"BUTTON",{disabled:!0,class:!0});var u=c(j);C=l(u,"Toe"),u.forEach(i),G=h(d),H=n(d,"BUTTON",{disabled:!0,class:!0});var f=c(H);J=l(f,"Thumb"),f.forEach(i),d.forEach(i),A=h(t),B=n(t,"DIV",{class:!0});var g=c(B);L=n(g,"P",{});var p=c(L);U=n(p,"SPAN",{});var w=c(U);V=l(w,s[7]),w.forEach(i),X=l(p,"\n    of people got it! "),z=l(p,s[5]),F=l(p," âœ… and "),W=l(p,s[6]),_=l(p," ðŸš«."),p.forEach(i),g.forEach(i),K=h(t),Q=n(t,"DIV",{class:!0});var b=c(Q);Y=n(b,"P",{});var v=c(Y);Z=l(v,"Check back next week for round "),ss=l(v,ls),es=l(v,"!"),v.forEach(i),as=h(b),ts=n(b,"P",{});var m=c(ts);os=l(m,"Made by\n    "),rs=n(m,"A",{href:!0,target:!0});var $=c(rs);ns=l($,"@codenberg"),$.forEach(i),m.forEach(i),b.forEach(i),this.h()},h(){d(e,"class","svelte-1cwya1x"),d(E,"class","visible svelte-1cwya1x"),d(E,"alt","image of toe or thumb?"),E.src!==(k="assets/0-question.png")&&d(E,"src","assets/0-question.png"),d(q,"alt","image revealed"),q.src!==(I="assets/0-answer.png")&&d(q,"src","assets/0-answer.png"),d(q,"class","svelte-1cwya1x"),u(q,"visible","answer"===s[0]),f(T,"height",s[3]+"px"),d(T,"class","svelte-1cwya1x"),g(()=>s[14].call(T)),u(T,"right",!0===s[4]),u(T,"wrong",!1===s[4]),j.disabled=D="answer"===s[0],d(j,"class","svelte-1cwya1x"),H.disabled=R="answer"===s[0],d(H,"class","svelte-1cwya1x"),d(P,"class","choice visible svelte-1cwya1x"),d(B,"class","next svelte-1cwya1x"),u(B,"visible","answer"===s[0]&&s[2].length),d(rs,"href","https://twitter.com/codeberg"),d(rs,"target","_blank"),d(Q,"class","credit svelte-1cwya1x")},m(t,o){p(t,e,o),w(e,a),p(t,x,o),p(t,T,o),w(T,E),w(T,S),w(T,q),M=b(T,s[14].bind(T)),p(t,O,o),p(t,P,o),w(P,j),w(j,C),w(P,G),w(P,H),w(H,J),p(t,A,o),p(t,B,o),w(B,L),w(L,U),w(U,V),w(L,X),w(L,z),w(L,F),w(L,W),w(L,_),p(t,K,o),p(t,Q,o),w(Q,Y),w(Y,Z),w(Y,ss),w(Y,es),w(Q,as),w(Q,ts),w(ts,os),w(ts,rs),w(rs,ns),cs=[v(j,"click",s[8]),v(H,"click",s[8])]},p(s,[e]){1&e&&u(q,"visible","answer"===s[0]),8&e&&f(T,"height",s[3]+"px"),16&e&&u(T,"right",!0===s[4]),16&e&&u(T,"wrong",!1===s[4]),1&e&&D!==(D="answer"===s[0])&&(j.disabled=D),1&e&&R!==(R="answer"===s[0])&&(H.disabled=R),128&e&&m(V,s[7]),32&e&&m(z,s[5]),64&e&&m(W,s[6]),5&e&&u(B,"visible","answer"===s[0]&&s[2].length)},i:$,o:$,d(s){s&&i(e),s&&i(x),s&&i(T),M.cancel(),s&&i(O),s&&i(P),s&&i(A),s&&i(B),s&&i(K),s&&i(Q),y(cs)}}}let N=0;function O(s,e,a){const t=["thumb"];let o,r,n,c,l,i,h="question",d=0,u=[],f=[];function g(){const s=new XMLHttpRequest,e=`https://pudding.cool/misc/toe-or-thumb/data.json?version=${Date.now()}`;s.open("GET",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const s=JSON.parse(this.response);a(2,f=s.answers)}else console.log("error1")},s.onerror=function(){console.log("error2")},s.send()}function p(s){const e=new XMLHttpRequest;e.open("POST","https://toe-or-thumb-db.herokuapp.com/answers",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){console.log(this.status)},e.onerror=function(s){console.log(s)},e.send(JSON.stringify(s))}return x(()=>{const s=localStorage.getItem("toe-or-thumb");s&&(a(9,u=JSON.parse(s)),a(0,h="answer")),g()}),s.$$.update=()=>{2&s.$$.dirty&&a(3,o=d),512&s.$$.dirty&&a(4,r=u[N]?u[N]===t[N]:null),4&s.$$.dirty&&a(10,n=f.length?f.find(s=>s.key===`${N}`):null),1024&s.$$.dirty&&a(5,c=n?n.value.r:0),1024&s.$$.dirty&&a(6,l=n?n.value.w:0),1120&s.$$.dirty&&a(7,i=n?`${Math.round(c/(c+l)*100)}%`:"0%")},[h,d,f,o,r,c,l,i,function(){const s=this.innerText.toLowerCase();a(9,u[N]=s,u),a(9,u),a(0,h="answer"),localStorage.setItem("toe-or-thumb",JSON.stringify(u)),p({question:N,answer:s===t[N]})},u,n,t,g,p,function(){d=this.offsetWidth,a(1,d)}]}class P extends s{constructor(s){super(),e(this,s,O,M,a,{})}}function j(s){let e;const a=new P({});return{c(){T(a.$$.fragment)},l(s){E(a.$$.fragment,s)},m(s,t){k(a,s,t),e=!0},p:$,i(s){e||(S(a.$$.fragment,s),e=!0)},o(s){q(a.$$.fragment,s),e=!1},d(s){I(a,s)}}}export default class extends s{constructor(s){super(),e(this,s,null,j,a,{})}}
