import{S as s,i as e,s as t,e as a,t as r,a as o,c as n,b as c,d as l,f as i,g as h,h as u,j as d,k as f,l as g,m as p,n as w,o as b,p as v,q as m,r as $,u as y,v as x,w as T,x as E,y as k,z as S,A as q,B as I}from"./client.61fe6255.js";function M(s){let e,t,x,T,E,k,S,q,I,M,O,P,j,C,D,G,H,J,R,A,B,L,U,V,X,z,F,W,_,K,Q,Y,Z,ss,es,ts,as,rs,os,ns,cs,ls=N+2+"";return{c(){e=a("h1"),t=r("Toe or Thumb?"),x=o(),T=a("figure"),E=a("img"),S=o(),q=a("img"),O=o(),P=a("div"),j=a("button"),C=r("Toe"),G=o(),H=a("button"),J=r("Thumb"),A=o(),B=a("div"),L=a("p"),U=a("span"),V=r(s[7]),X=r("\n    of people got it... "),z=r(s[5]),F=r(" right, "),W=r(s[6]),_=r(" wrong."),K=o(),Q=a("div"),Y=a("p"),Z=r("Check back next week for round "),ss=r(ls),es=r("!"),ts=o(),as=a("p"),rs=r("Made by\n    "),os=a("a"),ns=r("@codenberg"),this.h()},l(a){e=n(a,"H1",{class:!0});var r=c(e);t=l(r,"Toe or Thumb?"),r.forEach(i),x=h(a),T=n(a,"FIGURE",{style:!0,class:!0});var o=c(T);E=n(o,"IMG",{class:!0,alt:!0,src:!0}),S=h(o),q=n(o,"IMG",{alt:!0,src:!0,class:!0}),o.forEach(i),O=h(a),P=n(a,"DIV",{class:!0});var u=c(P);j=n(u,"BUTTON",{disabled:!0,class:!0});var d=c(j);C=l(d,"Toe"),d.forEach(i),G=h(u),H=n(u,"BUTTON",{disabled:!0,class:!0});var f=c(H);J=l(f,"Thumb"),f.forEach(i),u.forEach(i),A=h(a),B=n(a,"DIV",{class:!0});var g=c(B);L=n(g,"P",{});var p=c(L);U=n(p,"SPAN",{});var w=c(U);V=l(w,s[7]),w.forEach(i),X=l(p,"\n    of people got it... "),z=l(p,s[5]),F=l(p," right, "),W=l(p,s[6]),_=l(p," wrong."),p.forEach(i),g.forEach(i),K=h(a),Q=n(a,"DIV",{class:!0});var b=c(Q);Y=n(b,"P",{});var v=c(Y);Z=l(v,"Check back next week for round "),ss=l(v,ls),es=l(v,"!"),v.forEach(i),ts=h(b),as=n(b,"P",{});var m=c(as);rs=l(m,"Made by\n    "),os=n(m,"A",{href:!0,target:!0});var $=c(os);ns=l($,"@codenberg"),$.forEach(i),m.forEach(i),b.forEach(i),this.h()},h(){u(e,"class","svelte-1cwya1x"),u(E,"class","visible svelte-1cwya1x"),u(E,"alt","image of toe or thumb?"),E.src!==(k="assets/0-question.png")&&u(E,"src","assets/0-question.png"),u(q,"alt","image revealed"),q.src!==(I="assets/0-answer.png")&&u(q,"src","assets/0-answer.png"),u(q,"class","svelte-1cwya1x"),d(q,"visible","answer"===s[0]),f(T,"height",s[3]+"px"),u(T,"class","svelte-1cwya1x"),g(()=>s[14].call(T)),d(T,"right",!0===s[4]),d(T,"wrong",!1===s[4]),j.disabled=D="answer"===s[0],u(j,"class","svelte-1cwya1x"),H.disabled=R="answer"===s[0],u(H,"class","svelte-1cwya1x"),u(P,"class","choice visible svelte-1cwya1x"),u(B,"class","next svelte-1cwya1x"),d(B,"visible","answer"===s[0]&&s[2].length),u(os,"href","https://twitter.com/codeberg"),u(os,"target","_blank"),u(Q,"class","credit svelte-1cwya1x")},m(a,r){p(a,e,r),w(e,t),p(a,x,r),p(a,T,r),w(T,E),w(T,S),w(T,q),M=b(T,s[14].bind(T)),p(a,O,r),p(a,P,r),w(P,j),w(j,C),w(P,G),w(P,H),w(H,J),p(a,A,r),p(a,B,r),w(B,L),w(L,U),w(U,V),w(L,X),w(L,z),w(L,F),w(L,W),w(L,_),p(a,K,r),p(a,Q,r),w(Q,Y),w(Y,Z),w(Y,ss),w(Y,es),w(Q,ts),w(Q,as),w(as,rs),w(as,os),w(os,ns),cs=[v(j,"click",s[8]),v(H,"click",s[8])]},p(s,[e]){1&e&&d(q,"visible","answer"===s[0]),8&e&&f(T,"height",s[3]+"px"),16&e&&d(T,"right",!0===s[4]),16&e&&d(T,"wrong",!1===s[4]),1&e&&D!==(D="answer"===s[0])&&(j.disabled=D),1&e&&R!==(R="answer"===s[0])&&(H.disabled=R),128&e&&m(V,s[7]),32&e&&m(z,s[5]),64&e&&m(W,s[6]),5&e&&d(B,"visible","answer"===s[0]&&s[2].length)},i:$,o:$,d(s){s&&i(e),s&&i(x),s&&i(T),M.cancel(),s&&i(O),s&&i(P),s&&i(A),s&&i(B),s&&i(K),s&&i(Q),y(cs)}}}let N=0;function O(s,e,t){const a=["thumb"];let r,o,n,c,l,i,h="question",u=0,d=[],f=[];function g(){const s=new XMLHttpRequest,e=`https://pudding.cool/misc/toe-or-thumb/data.json?version=${Date.now()}`;s.open("GET",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const s=JSON.parse(this.response);t(2,f=s.answers)}else console.log("error1")},s.onerror=function(){console.log("error2")},s.send()}function p(s){const e=new XMLHttpRequest;e.open("POST","https://toe-or-thumb-db.herokuapp.com/answers",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){console.log(this.status)},e.onerror=function(s){console.log(s)},e.send(JSON.stringify(s))}return x(()=>{const s=localStorage.getItem("toe-or-thumb");s&&(t(9,d=JSON.parse(s)),t(0,h="answer")),g()}),s.$$.update=()=>{2&s.$$.dirty&&t(3,r=u),512&s.$$.dirty&&t(4,o=d[N]?d[N]===a[N]:null),4&s.$$.dirty&&t(10,n=f.length?f.find(s=>s.key===`${N}`):null),1024&s.$$.dirty&&t(5,c=n?n.value.r:0),1024&s.$$.dirty&&t(6,l=n?n.value.w:0),1120&s.$$.dirty&&t(7,i=n?`${Math.round(c/(c+l)*100)}%`:"0%")},[h,u,f,r,o,c,l,i,function(){const s=this.innerText.toLowerCase();t(9,d[N]=s,d),t(9,d),t(0,h="answer"),localStorage.setItem("toe-or-thumb",JSON.stringify(d)),p({question:N,answer:s===a[N]})},d,n,a,g,p,function(){u=this.offsetWidth,t(1,u)}]}class P extends s{constructor(s){super(),e(this,s,O,M,t,{})}}function j(s){let e;const t=new P({});return{c(){T(t.$$.fragment)},l(s){E(t.$$.fragment,s)},m(s,a){k(t,s,a),e=!0},p:$,i(s){e||(S(t.$$.fragment,s),e=!0)},o(s){q(t.$$.fragment,s),e=!1},d(s){I(t,s)}}}export default class extends s{constructor(s){super(),e(this,s,null,j,t,{})}}
