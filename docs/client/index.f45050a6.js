import{S as s,i as e,s as t,e as a,t as n,a as r,c as o,b as i,d as c,f as l,g as u,h,j as d,k as f,l as g,m as p,n as b,o as v,p as w,q as m,r as $,u as T,v as y,w as E,x as k,y as x,z as S,A as q,B as I}from"./client.000d0956.js";function M(s){let e,t,y,E,k,x,S,q,I,M,O,P,j,C,D,G,H,J,R,A,B,L,U,V,X,z,F,W,_,K,Q,Y,Z,ss,es,ts,as,ns,rs,os,is,cs=N+2+"";return{c(){e=a("h1"),t=n("Toe or Thumb?"),y=r(),E=a("figure"),k=a("img"),S=r(),q=a("img"),O=r(),P=a("div"),j=a("button"),C=n("Toe"),G=r(),H=a("button"),J=n("Thumb"),A=r(),B=a("div"),L=a("p"),U=a("span"),V=n(s[6]),X=n("\n    of people got it... "),z=n(s[4]),F=n(" right, "),W=n(s[5]),_=n(" wrong."),K=r(),Q=a("p"),Y=n("Check back next week for round "),Z=n(cs),ss=n("!"),es=r(),ts=a("div"),as=a("p"),ns=n("Made by\n    "),rs=a("a"),os=n("@codenberg"),this.h()},l(a){e=o(a,"H1",{class:!0});var n=i(e);t=c(n,"Toe or Thumb?"),n.forEach(l),y=u(a),E=o(a,"FIGURE",{style:!0,class:!0});var r=i(E);k=o(r,"IMG",{class:!0,alt:!0,src:!0}),S=u(r),q=o(r,"IMG",{alt:!0,src:!0,class:!0}),r.forEach(l),O=u(a),P=o(a,"DIV",{class:!0});var h=i(P);j=o(h,"BUTTON",{disabled:!0,class:!0});var d=i(j);C=c(d,"Toe"),d.forEach(l),G=u(h),H=o(h,"BUTTON",{disabled:!0,class:!0});var f=i(H);J=c(f,"Thumb"),f.forEach(l),h.forEach(l),A=u(a),B=o(a,"DIV",{class:!0});var g=i(B);L=o(g,"P",{});var p=i(L);U=o(p,"SPAN",{});var b=i(U);V=c(b,s[6]),b.forEach(l),X=c(p,"\n    of people got it... "),z=c(p,s[4]),F=c(p," right, "),W=c(p,s[5]),_=c(p," wrong."),p.forEach(l),K=u(g),Q=o(g,"P",{});var v=i(Q);Y=c(v,"Check back next week for round "),Z=c(v,cs),ss=c(v,"!"),v.forEach(l),g.forEach(l),es=u(a),ts=o(a,"DIV",{class:!0});var w=i(ts);as=o(w,"P",{});var m=i(as);ns=c(m,"Made by\n    "),rs=o(m,"A",{href:!0,target:!0});var $=i(rs);os=c($,"@codenberg"),$.forEach(l),m.forEach(l),w.forEach(l),this.h()},h(){h(e,"class","svelte-6unis1"),h(k,"class","visible svelte-6unis1"),h(k,"alt","image of toe or thumb?"),k.src!==(x="assets/0-question.png")&&h(k,"src","assets/0-question.png"),h(q,"alt","image revealed"),q.src!==(I="assets/0-answer.png")&&h(q,"src","assets/0-answer.png"),h(q,"class","svelte-6unis1"),d(q,"visible","answer"===s[0]),f(E,"height",s[2]+"px"),h(E,"class","svelte-6unis1"),g(()=>s[14].call(E)),d(E,"right",!0===s[3]),d(E,"wrong",!1===s[3]),j.disabled=D="answer"===s[0],h(j,"class","svelte-6unis1"),H.disabled=R="answer"===s[0],h(H,"class","svelte-6unis1"),h(P,"class","choice visible svelte-6unis1"),h(B,"class","next svelte-6unis1"),d(B,"visible","answer"===s[0]),h(rs,"href","https://twitter.com/codeberg"),h(rs,"target","_blank"),h(ts,"class","credit svelte-6unis1")},m(a,n){p(a,e,n),b(e,t),p(a,y,n),p(a,E,n),b(E,k),b(E,S),b(E,q),M=v(E,s[14].bind(E)),p(a,O,n),p(a,P,n),b(P,j),b(j,C),b(P,G),b(P,H),b(H,J),p(a,A,n),p(a,B,n),b(B,L),b(L,U),b(U,V),b(L,X),b(L,z),b(L,F),b(L,W),b(L,_),b(B,K),b(B,Q),b(Q,Y),b(Q,Z),b(Q,ss),p(a,es,n),p(a,ts,n),b(ts,as),b(as,ns),b(as,rs),b(rs,os),is=[w(j,"click",s[7]),w(H,"click",s[7])]},p(s,[e]){1&e&&d(q,"visible","answer"===s[0]),4&e&&f(E,"height",s[2]+"px"),8&e&&d(E,"right",!0===s[3]),8&e&&d(E,"wrong",!1===s[3]),1&e&&D!==(D="answer"===s[0])&&(j.disabled=D),1&e&&R!==(R="answer"===s[0])&&(H.disabled=R),64&e&&m(V,s[6]),16&e&&m(z,s[4]),32&e&&m(W,s[5]),1&e&&d(B,"visible","answer"===s[0])},i:$,o:$,d(s){s&&l(e),s&&l(y),s&&l(E),M.cancel(),s&&l(O),s&&l(P),s&&l(A),s&&l(B),s&&l(es),s&&l(ts),T(is)}}}let N=0;function O(s,e,t){const a=["thumb"];let n,r,o,i,c,l,u="question",h=0,d=[],f=[];function g(){const s=new XMLHttpRequest,e=`https://pudding.cool/misc/toe-or-thumb/data.json?version=${Date.now()}`;s.open("GET",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const s=JSON.parse(this.response);t(9,f=s.answers)}else console.log("error1")},s.onerror=function(){console.log("error2")},s.send()}function p(s){const e=new XMLHttpRequest;e.open("POST","https://toe-or-thumb-db.herokuapp.com/answers",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){console.log(this.status)},e.onerror=function(s){console.log(s)},e.send(JSON.stringify(s))}return y(()=>{const s=localStorage.getItem("toe-or-thumb");s&&(t(8,d=JSON.parse(s)),t(0,u="answer")),g()}),s.$$.update=()=>{2&s.$$.dirty&&t(2,n=h),256&s.$$.dirty&&t(3,r=d[N]?d[N]===a[N]:null),512&s.$$.dirty&&t(10,o=f.length?f.find(s=>s.key===`${N}`):null),1024&s.$$.dirty&&t(4,i=o?o.value.r:0),1024&s.$$.dirty&&t(5,c=o?o.value.w:0),1072&s.$$.dirty&&t(6,l=o?`${Math.round(i/(i+c)*100)}%`:"0%")},[u,h,n,r,i,c,l,function(){const s=this.innerText.toLowerCase();t(8,d[N]=s,d),t(8,d),t(0,u="answer"),localStorage.setItem("toe-or-thumb",JSON.stringify(d)),p({question:N,answer:s===a[N]})},d,f,o,a,g,p,function(){h=this.offsetWidth,t(1,h)}]}class P extends s{constructor(s){super(),e(this,s,O,M,t,{})}}function j(s){let e;const t=new P({});return{c(){E(t.$$.fragment)},l(s){k(t.$$.fragment,s)},m(s,a){x(t,s,a),e=!0},p:$,i(s){e||(S(t.$$.fragment,s),e=!0)},o(s){q(t.$$.fragment,s),e=!1},d(s){I(t,s)}}}export default class extends s{constructor(s){super(),e(this,s,null,j,t,{})}}
