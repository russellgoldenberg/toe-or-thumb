import{S as s,i as e,s as a,e as t,t as r,a as o,c as n,b as c,d as i,f as l,g as h,h as u,j as d,k as f,l as g,m as p,n as w,o as b,p as v,q as m,r as $,u as T,v as y,w as E,x as k,y as x,z as S,A as q,B as I}from"./client.4a077fa2.js";function M(s){let e,a,y,E,k,x,S,q,I,M,O,P,j,C,D,G,H,J,R,A,B,L,U,V,X,z,F,W,_,K,Q,Y,Z,ss,es,as,ts,rs,os,ns,cs,is=N+2+"";return{c(){e=t("h1"),a=r("Toe or Thumb?"),y=o(),E=t("figure"),k=t("img"),S=o(),q=t("img"),O=o(),P=t("div"),j=t("button"),C=r("Toe"),G=o(),H=t("button"),J=r("Thumb"),A=o(),B=t("div"),L=t("p"),U=t("span"),V=r(s[7]),X=r("\n    of people got it... "),z=r(s[5]),F=r(" right, "),W=r(s[6]),_=r(" wrong."),K=o(),Q=t("div"),Y=t("p"),Z=r("Check back next week for round "),ss=r(is),es=r("!"),as=o(),ts=t("p"),rs=r("Made by\n    "),os=t("a"),ns=r("@codenberg"),this.h()},l(t){e=n(t,"H1",{class:!0});var r=c(e);a=i(r,"Toe or Thumb?"),r.forEach(l),y=h(t),E=n(t,"FIGURE",{style:!0,class:!0});var o=c(E);k=n(o,"IMG",{class:!0,alt:!0,src:!0}),S=h(o),q=n(o,"IMG",{alt:!0,src:!0,class:!0}),o.forEach(l),O=h(t),P=n(t,"DIV",{class:!0});var u=c(P);j=n(u,"BUTTON",{disabled:!0,class:!0});var d=c(j);C=i(d,"Toe"),d.forEach(l),G=h(u),H=n(u,"BUTTON",{disabled:!0,class:!0});var f=c(H);J=i(f,"Thumb"),f.forEach(l),u.forEach(l),A=h(t),B=n(t,"DIV",{class:!0});var g=c(B);L=n(g,"P",{});var p=c(L);U=n(p,"SPAN",{});var w=c(U);V=i(w,s[7]),w.forEach(l),X=i(p,"\n    of people got it... "),z=i(p,s[5]),F=i(p," right, "),W=i(p,s[6]),_=i(p," wrong."),p.forEach(l),g.forEach(l),K=h(t),Q=n(t,"DIV",{class:!0});var b=c(Q);Y=n(b,"P",{});var v=c(Y);Z=i(v,"Check back next week for round "),ss=i(v,is),es=i(v,"!"),v.forEach(l),as=h(b),ts=n(b,"P",{});var m=c(ts);rs=i(m,"Made by\n    "),os=n(m,"A",{href:!0,target:!0});var $=c(os);ns=i($,"@codenberg"),$.forEach(l),m.forEach(l),b.forEach(l),this.h()},h(){u(e,"class","svelte-1w5cai3"),u(k,"class","visible svelte-1w5cai3"),u(k,"alt","image of toe or thumb?"),k.src!==(x="assets/0-question.png")&&u(k,"src","assets/0-question.png"),u(q,"alt","image revealed"),q.src!==(I="assets/0-answer.png")&&u(q,"src","assets/0-answer.png"),u(q,"class","svelte-1w5cai3"),d(q,"visible","answer"===s[0]),f(E,"height",s[3]+"px"),u(E,"class","svelte-1w5cai3"),g(()=>s[14].call(E)),d(E,"right",!0===s[4]),d(E,"wrong",!1===s[4]),j.disabled=D="answer"===s[0],u(j,"class","svelte-1w5cai3"),H.disabled=R="answer"===s[0],u(H,"class","svelte-1w5cai3"),u(P,"class","choice visible svelte-1w5cai3"),u(B,"class","next svelte-1w5cai3"),d(B,"visible","answer"===s[0]&&s[2].length),u(os,"href","https://twitter.com/codeberg"),u(os,"target","_blank"),u(Q,"class","credit svelte-1w5cai3")},m(t,r){p(t,e,r),w(e,a),p(t,y,r),p(t,E,r),w(E,k),w(E,S),w(E,q),M=b(E,s[14].bind(E)),p(t,O,r),p(t,P,r),w(P,j),w(j,C),w(P,G),w(P,H),w(H,J),p(t,A,r),p(t,B,r),w(B,L),w(L,U),w(U,V),w(L,X),w(L,z),w(L,F),w(L,W),w(L,_),p(t,K,r),p(t,Q,r),w(Q,Y),w(Y,Z),w(Y,ss),w(Y,es),w(Q,as),w(Q,ts),w(ts,rs),w(ts,os),w(os,ns),cs=[v(j,"click",s[8]),v(H,"click",s[8])]},p(s,[e]){1&e&&d(q,"visible","answer"===s[0]),8&e&&f(E,"height",s[3]+"px"),16&e&&d(E,"right",!0===s[4]),16&e&&d(E,"wrong",!1===s[4]),1&e&&D!==(D="answer"===s[0])&&(j.disabled=D),1&e&&R!==(R="answer"===s[0])&&(H.disabled=R),128&e&&m(V,s[7]),32&e&&m(z,s[5]),64&e&&m(W,s[6]),5&e&&d(B,"visible","answer"===s[0]&&s[2].length)},i:$,o:$,d(s){s&&l(e),s&&l(y),s&&l(E),M.cancel(),s&&l(O),s&&l(P),s&&l(A),s&&l(B),s&&l(K),s&&l(Q),T(cs)}}}let N=0;function O(s,e,a){const t=["thumb"];let r,o,n,c,i,l,h="question",u=0,d=[],f=[];function g(){const s=new XMLHttpRequest,e=`https://pudding.cool/misc/toe-or-thumb/data.json?version=${Date.now()}`;s.open("GET",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const s=JSON.parse(this.response);a(2,f=s.answers)}else console.log("error1")},s.onerror=function(){console.log("error2")},s.send()}function p(s){const e=new XMLHttpRequest;e.open("POST","https://toe-or-thumb-db.herokuapp.com/answers",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){console.log(this.status)},e.onerror=function(s){console.log(s)},e.send(JSON.stringify(s))}return y(()=>{const s=localStorage.getItem("toe-or-thumb");s&&(a(9,d=JSON.parse(s)),a(0,h="answer")),g()}),s.$$.update=()=>{2&s.$$.dirty&&a(3,r=u),512&s.$$.dirty&&a(4,o=d[N]?d[N]===t[N]:null),4&s.$$.dirty&&a(10,n=f.length?f.find(s=>s.key===`${N}`):null),1024&s.$$.dirty&&a(5,c=n?n.value.r:0),1024&s.$$.dirty&&a(6,i=n?n.value.w:0),1120&s.$$.dirty&&a(7,l=n?`${Math.round(c/(c+i)*100)}%`:"0%")},[h,u,f,r,o,c,i,l,function(){const s=this.innerText.toLowerCase();a(9,d[N]=s,d),a(9,d),a(0,h="answer"),localStorage.setItem("toe-or-thumb",JSON.stringify(d)),p({question:N,answer:s===t[N]})},d,n,t,g,p,function(){u=this.offsetWidth,a(1,u)}]}class P extends s{constructor(s){super(),e(this,s,O,M,a,{})}}function j(s){let e;const a=new P({});return{c(){E(a.$$.fragment)},l(s){k(a.$$.fragment,s)},m(s,t){x(a,s,t),e=!0},p:$,i(s){e||(S(a.$$.fragment,s),e=!0)},o(s){q(a.$$.fragment,s),e=!1},d(s){I(a,s)}}}export default class extends s{constructor(s){super(),e(this,s,null,j,a,{})}}
