import{S as s,i as e,s as a,e as t,t as n,a as o,c as r,b as c,d as l,f as i,g as h,h as u,j as d,k as f,l as g,m as p,n as b,o as v,p as w,q as m,r as $,u as y,v as x,w as T,x as E,y as S,z as q,A as I,B as M}from"./client.7b2c456e.js";function N(s){let e,a,x,T,E,S,q,I,M,N,O,k,j,D,G,H,J,P,R,A,B,L,U,V,C,X,z,F,W,_,K,Q,Y,Z,ss,es;return{c(){e=t("h1"),a=n("Toe or Thumb?"),x=o(),T=t("figure"),E=t("img"),q=o(),I=t("img"),O=o(),k=t("div"),j=t("button"),D=n("Toe"),H=o(),J=t("button"),P=n("Thumb"),A=o(),B=t("div"),L=t("p"),U=t("span"),V=n(s[7]),C=n("\n    of people got it! "),X=n(s[5]),z=n(" âœ… and "),F=n(s[6]),W=n(" ðŸš«."),_=o(),K=t("div"),Q=t("p"),Y=n("Made by\n    "),Z=t("a"),ss=n("@codenberg"),this.h()},l(t){e=r(t,"H1",{class:!0});var n=c(e);a=l(n,"Toe or Thumb?"),n.forEach(i),x=h(t),T=r(t,"FIGURE",{style:!0,class:!0});var o=c(T);E=r(o,"IMG",{class:!0,alt:!0,src:!0}),q=h(o),I=r(o,"IMG",{alt:!0,src:!0,class:!0}),o.forEach(i),O=h(t),k=r(t,"DIV",{class:!0});var u=c(k);j=r(u,"BUTTON",{disabled:!0,class:!0});var d=c(j);D=l(d,"Toe"),d.forEach(i),H=h(u),J=r(u,"BUTTON",{disabled:!0,class:!0});var f=c(J);P=l(f,"Thumb"),f.forEach(i),u.forEach(i),A=h(t),B=r(t,"DIV",{class:!0});var g=c(B);L=r(g,"P",{});var p=c(L);U=r(p,"SPAN",{});var b=c(U);V=l(b,s[7]),b.forEach(i),C=l(p,"\n    of people got it! "),X=l(p,s[5]),z=l(p," âœ… and "),F=l(p,s[6]),W=l(p," ðŸš«."),p.forEach(i),g.forEach(i),_=h(t),K=r(t,"DIV",{class:!0});var v=c(K);Q=r(v,"P",{});var w=c(Q);Y=l(w,"Made by\n    "),Z=r(w,"A",{href:!0,target:!0});var m=c(Z);ss=l(m,"@codenberg"),m.forEach(i),w.forEach(i),v.forEach(i),this.h()},h(){u(e,"class","svelte-1cwya1x"),u(E,"class","visible svelte-1cwya1x"),u(E,"alt","image of toe or thumb?"),E.src!==(S="assets/0-question.png")&&u(E,"src","assets/0-question.png"),u(I,"alt","image revealed"),I.src!==(M="assets/0-answer.png")&&u(I,"src","assets/0-answer.png"),u(I,"class","svelte-1cwya1x"),d(I,"visible","answer"===s[0]),f(T,"height",s[3]+"px"),u(T,"class","svelte-1cwya1x"),g(()=>s[14].call(T)),d(T,"right",!0===s[4]),d(T,"wrong",!1===s[4]),j.disabled=G="answer"===s[0],u(j,"class","svelte-1cwya1x"),J.disabled=R="answer"===s[0],u(J,"class","svelte-1cwya1x"),u(k,"class","choice visible svelte-1cwya1x"),u(B,"class","next svelte-1cwya1x"),d(B,"visible","answer"===s[0]&&s[2].length),u(Z,"href","https://twitter.com/codeberg"),u(Z,"target","_blank"),u(K,"class","credit svelte-1cwya1x")},m(t,n){p(t,e,n),b(e,a),p(t,x,n),p(t,T,n),b(T,E),b(T,q),b(T,I),N=v(T,s[14].bind(T)),p(t,O,n),p(t,k,n),b(k,j),b(j,D),b(k,H),b(k,J),b(J,P),p(t,A,n),p(t,B,n),b(B,L),b(L,U),b(U,V),b(L,C),b(L,X),b(L,z),b(L,F),b(L,W),p(t,_,n),p(t,K,n),b(K,Q),b(Q,Y),b(Q,Z),b(Z,ss),es=[w(j,"click",s[8]),w(J,"click",s[8])]},p(s,[e]){1&e&&d(I,"visible","answer"===s[0]),8&e&&f(T,"height",s[3]+"px"),16&e&&d(T,"right",!0===s[4]),16&e&&d(T,"wrong",!1===s[4]),1&e&&G!==(G="answer"===s[0])&&(j.disabled=G),1&e&&R!==(R="answer"===s[0])&&(J.disabled=R),128&e&&m(V,s[7]),32&e&&m(X,s[5]),64&e&&m(F,s[6]),5&e&&d(B,"visible","answer"===s[0]&&s[2].length)},i:$,o:$,d(s){s&&i(e),s&&i(x),s&&i(T),N.cancel(),s&&i(O),s&&i(k),s&&i(A),s&&i(B),s&&i(_),s&&i(K),y(es)}}}function O(s,e,a){const t=["thumb"];let n,o,r,c,l,i,h="question",u=0,d=[],f=[];function g(){const s=new XMLHttpRequest,e=`https://pudding.cool/misc/toe-or-thumb/data.json?version=${Date.now()}`;s.open("GET",e,!0),s.onload=function(){if(this.status>=200&&this.status<400){const s=JSON.parse(this.response);a(2,f=s.answers)}else console.log("error1")},s.onerror=function(){console.log("error2")},s.send()}function p(s){const e=new XMLHttpRequest;e.open("POST","https://toe-or-thumb-db.herokuapp.com/answers",!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){console.log(this.status)},e.onerror=function(s){console.log(s)},e.send(JSON.stringify(s))}return x(()=>{const s=localStorage.getItem("toe-or-thumb");s&&(a(9,d=JSON.parse(s)),a(0,h="answer")),g()}),s.$$.update=()=>{2&s.$$.dirty&&a(3,n=u),512&s.$$.dirty&&a(4,o=d[0]?d[0]===t[0]:null),4&s.$$.dirty&&a(10,r=f.length?f.find(s=>"0"===s.key):null),1024&s.$$.dirty&&a(5,c=r?r.value.r:0),1024&s.$$.dirty&&a(6,l=r?r.value.w:0),1120&s.$$.dirty&&a(7,i=r?`${Math.round(c/(c+l)*100)}%`:"0%")},[h,u,f,n,o,c,l,i,function(){const s=this.innerText.toLowerCase();a(9,d[0]=s,d),a(9,d),a(0,h="answer"),localStorage.setItem("toe-or-thumb",JSON.stringify(d)),p({question:0,answer:s===t[0]})},d,r,t,g,p,function(){u=this.offsetWidth,a(1,u)}]}class k extends s{constructor(s){super(),e(this,s,O,N,a,{})}}function j(s){let e;const a=new k({});return{c(){T(a.$$.fragment)},l(s){E(a.$$.fragment,s)},m(s,t){S(a,s,t),e=!0},p:$,i(s){e||(q(a.$$.fragment,s),e=!0)},o(s){I(a.$$.fragment,s),e=!1},d(s){M(a,s)}}}export default class extends s{constructor(s){super(),e(this,s,null,j,a,{})}}
